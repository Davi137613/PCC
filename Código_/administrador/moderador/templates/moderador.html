{% extends 'base.html' %}

{% block content %}
  <h1>Área do Moderador</h1>

  <h2>Comentários Pendentes</h2>
  <ul>
    {% for comentario in comentarios_pendentes %}
      <li>{{ comentario.texto }} - {{ comentario.autor }} - {{ comentario.data }}</li>
      <form method="POST" action="{% url 'moderador_desativar_comentario' comentario.id %}">
        {% csrf_token %}
        <button type="submit">Desativar Comentário</button>
      </form>
    {% empty %}
      <p>Nenhum comentário pendente.</p>
    {% endfor %}
  </ul>

  <h2>Usuários Ativos</h2>
  <ul>
    {% for usuario in usuarios_ativos %}
      <li>{{ usuario.nome }} - {{ usuario.email }} - {{ usuario.data_de_nascimento }}</li>
      <form method="POST" action="{% url 'moderador_desativar_usuario' usuario.id %}">
        {% csrf_token %}
        <button type="submit">Desativar Usuário</button>
      </form>
    {% empty %}
      <p>Nenhum usuário ativo.</p>
    {% endfor %}
  </ul>

  <h2>Posts Ativos</h2>
  <ul>
    {% for post in posts_ativos %}
      <li>{{ post.titulo }} - {{ post.autor }} - {{ post.data_de_publicacao }}</li>
      <form method="POST" action="{% url 'moderador_desativar_post' post.id %}">
        {% csrf_token %}
        <button type="submit">Desativar Post</button>
      </form>
    {% empty %}
      <p>Nenhum post ativo.</p>
    {% endfor %}
  </ul>

{% endblock %}
